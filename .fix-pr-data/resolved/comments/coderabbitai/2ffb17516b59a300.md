# Comment: 2ffb17516b59a300

**Source:** coderabbitai
**Type:** comment
**File:** `apps/backend/tests/test_linear_validation_runner.py`
**Line:** 56
**Original ID:** 2737528213
**Created:** None
**Severity:** MEDIUM
**Status:** RESOLVED

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**Donâ€™t silently pass if `linear_validator.py` disappears.**

The conditional `exists()` guard would let the test pass even if the file is missing.

<details>
<summary>âœ… Make the test fail when the file is absent</summary>

```diff
-        if source_file.exists():
-            content = source_file.read_text(encoding="utf-8")
-
-            # Check for the authorization pattern
-            assert 'startswith("lin_api_")' in content
-            assert 'f"Bearer {api_key}"' in content
+        assert source_file.exists(), "linear_validator.py must exist for this test"
+        content = source_file.read_text(encoding="utf-8")
+
+        # Check for the authorization pattern
+        assert 'startswith("lin_api_")' in content
+        assert 'f"Bearer {api_key}"' in content
```
</details>

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@apps/backend/tests/test_linear_validation_runner.py` around lines 48 - 58,
The test currently skips assertions when the target file is missing because of
the exists() guard; update test_linear_validator_authorization_pattern to assert
the file exists first (e.g., assert source_file.exists()) or remove the
conditional so the test fails if agents/linear_validator.py is absent, then
proceed to read_text and assert the authorization pattern checks
('startswith("lin_api_")' and 'f"Bearer {api_key}"') against the content.
```

</details>

<!-- fingerprinting:phantom:poseidon:eagle -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: RESOLVED*

**Resolution:** Added explicit assert for file existence