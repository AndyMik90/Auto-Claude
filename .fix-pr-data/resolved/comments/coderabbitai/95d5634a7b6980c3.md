# Comment: 95d5634a7b6980c3

**Source:** coderabbitai
**Type:** comment
**File:** `apps/backend/agents/linear_validator.py`
**Line:** 339
**Original ID:** 2733875042
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

_üõ†Ô∏è Refactor suggestion_ | _üü† Major_

**Model should be resolved from user settings, not hardcoded.**

Per coding guidelines, the model and thinking level should be resolved using `get_phase_model()` and `get_phase_thinking_budget()` from `phase_config.py` helpers rather than hardcoding `"claude-opus-4-5-20251101"`.


<details>
<summary>‚ôªÔ∏è Suggested refactor</summary>

```diff
+from core.phase_config import get_phase_model, get_phase_thinking_budget
+
 class LinearValidationAgent:
     # ...
     def __init__(
         self,
         spec_dir: Path,
         project_dir: Path,
-        model: str = "claude-opus-4-5-20251101",
+        model: str | None = None,
         session_timeout: float | None = None,
     ):
         # ...
-        self.model = model
+        self.model = model or get_phase_model("linear_validation")
+        self._thinking_budget = get_phase_thinking_budget("linear_validation")
```
</details>

Based on coding guidelines, model selection should come from user settings.

<details>
<summary>ü§ñ Prompt for AI Agents</summary>

```
In `@apps/backend/agents/linear_validator.py` around lines 312 - 336, The
constructor currently hardcodes the Claude model; update Linear validation agent
__init__ to resolve model and thinking budget from user settings by calling
get_phase_model(...) and get_phase_thinking_budget(...) from phase_config
instead of using the literal "claude-opus-4-5-20251101" (remove or change the
default param), set self.model = get_phase_model(...) and store the thinking
budget (e.g., self.thinking_budget = get_phase_thinking_budget(...)), and import
those helpers at the top of the file; ensure session_timeout fallback logic
remains unchanged and that any callers expecting the old default still work with
the new resolution.
```

</details>

<!-- fingerprinting:phantom:medusa:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Nitpick or minor suggestion - not blocking