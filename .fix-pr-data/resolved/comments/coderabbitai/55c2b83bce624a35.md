# Comment: 55c2b83bce624a35

**Source:** coderabbitai
**Type:** comment
**File:** `apps/backend/agents/linear_validator.py`
**Line:** 1115
**Original ID:** 2733875062
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

_üõ†Ô∏è Refactor suggestion_ | _üü† Major_

**Factory function should also use phase config for model selection.**

The `create_linear_validator` factory hardcodes the same model default. It should be consistent with the class and use phase config.


<details>
<summary>‚ôªÔ∏è Suggested refactor</summary>

```diff
 def create_linear_validator(
     spec_dir: Path,
     project_dir: Path,
-    model: str = "claude-opus-4-5-20251101",
+    model: str | None = None,
 ) -> LinearValidationAgent:
```
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>

```
In `@apps/backend/agents/linear_validator.py` around lines 1087 - 1103, The
factory create_linear_validator currently hardcodes the model default; instead
obtain the model from the project's phase configuration and pass that to
LinearValidationAgent. Update create_linear_validator to instantiate or access
PhaseConfig (e.g., PhaseConfig(...) or PhaseConfig.get(...)) and use its model
value (PhaseConfig.model or PhaseConfig.get_model()) as the model argument when
constructing LinearValidationAgent so the factory follows the same phase-driven
model selection as the class.
```

</details>

<!-- fingerprinting:phantom:medusa:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Nitpick or minor suggestion - not blocking