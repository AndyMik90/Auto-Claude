# Comment: 30540ecf2dea5c76

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Line:** 78
**Original ID:** 2735315768
**Created:** None
**Severity:** MEDIUM
**Status:** SKIPPED

---

## Original Content

_‚ö†Ô∏è Potential issue_ | _üü° Minor_

**Consider adding a timeout to prevent indefinite hangs.**

The `fetch` call has no timeout configured. If the Linear API becomes unresponsive, this could block the IPC handler indefinitely, degrading user experience. The PR description mentions "per-ticket network timeout = 5 minutes" but this isn't implemented here.



<details>
<summary>‚ôªÔ∏è Proposed fix using AbortController</summary>

```diff
 const linearGraphQL = async (
   apiKey: string,
   query: string,
   variables?: Record<string, unknown>,
 ): Promise<unknown> => {
   const isPersonalApiKey = apiKey.startsWith("lin_api_");
   const authorization = isPersonalApiKey ? apiKey : `Bearer ${apiKey}`;

+  const controller = new AbortController();
+  const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 second timeout
+
-  const response = await fetch("https://api.linear.app/graphql", {
+  const response = await fetch("https://api.linear.app/graphql", {
     method: "POST",
     headers: {
       "Content-Type": "application/json",
       Authorization: authorization,
     },
     body: JSON.stringify({ query, variables }),
+    signal: controller.signal,
   });
+
+  clearTimeout(timeoutId);
```
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>

```
In `@apps/frontend/src/main/ipc-handlers/linear-handlers.ts` around lines 71 - 78,
The fetch call that assigns to response (using query, variables, Authorization)
has no timeout and can hang; wrap the request with an AbortController, pass
controller.signal into fetch, start a setTimeout to call controller.abort()
after the per-ticket timeout (e.g., 300000 ms for 5 minutes or a configurable
value), clear the timer once fetch resolves, and catch the abort/DOMException to
return a clear timeout error from the IPC handler (preserve existing error
handling for other failures); update the fetch invocation that builds response
to use this AbortController pattern and ensure any timers are cleaned up.
```

</details>

<!-- fingerprinting:phantom:medusa:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Suggested Fix

```typescript
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Trivial nitpick or refactor suggestion