# Comment: d7746638d28e3818

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/renderer/components/linear/hooks/useLinearFiltering.ts`
**Line:** 106
**Original ID:** 2717221884
**Created:** None
**Severity:** HIGH
**Status:** RESOLVED

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ  Major_

<details>
<summary>ğŸ§© Analysis chain</summary>

ğŸ Script executed:

```shell
# First, locate the relevant files
find . -type f -name "useLinearFiltering.ts" -o -name "linear-store.ts" | head -20
```

Repository: AndyMik90/Auto-Claude

Length of output: 191

---

ğŸ Script executed:

```shell
# Search for LinearTicket type definition
rg -n "interface LinearTicket|type LinearTicket" --type=ts -A10
```

Repository: AndyMik90/Auto-Claude

Length of output: 4341

---

ğŸ Script executed:

```shell
# Check the actual implementation in useLinearFiltering.ts around line 102-107
rg -n "Apply status filter" -A5 -B5 --type=ts
```

Repository: AndyMik90/Auto-Claude

Length of output: 1183

---

ğŸ Script executed:

```shell
# Check linear-store.ts around line 117
cat -n ./apps/frontend/src/renderer/stores/linear-store.ts | sed -n '100,130p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 1174

---

ğŸ Script executed:

```shell
# Find LinearIssue type definition (since LinearTicket = LinearIssue)
rg -n "interface LinearIssue|type LinearIssue" --type=ts -A15
```

Repository: AndyMik90/Auto-Claude

Length of output: 1286

---

ğŸ Script executed:

```shell
# Check how currentFilters.status and filters.status are populated - search for where they're set
rg -n "status\s*:" --type=ts -B3 -A1 apps/frontend/src/renderer/components/linear apps/frontend/src/renderer/stores | grep -A3 -B3 "status"
```

Repository: AndyMik90/Auto-Claude

Length of output: 32259

---

ğŸ Script executed:

```shell
# Check if there are tests or usage examples showing what values are used for status
rg -n "currentFilters.status\|filters.status" --type=ts -B2 -A2
```

Repository: AndyMik90/Auto-Claude

Length of output: 47

---

ğŸ Script executed:

```shell
# Look for status filter UI components and what values they provide
rg -n "LinearStatus|status.*filter" --type=tsx -B2 -A2 apps/frontend/src/renderer/components/linear
```

Repository: AndyMik90/Auto-Claude

Length of output: 92

---

ğŸ Script executed:

```shell
# Check if there's a getTicketsByStatus method to see what it uses
rg -n "getTicketsByStatus" -A5 apps/frontend/src/renderer/stores/linear-store.ts
```

Repository: AndyMik90/Auto-Claude

Length of output: 451

---

ğŸ Script executed:

```shell
# Verify if useLinearFiltering hook is actually used and called with filters
rg -n "useLinearFiltering" --type=ts -B2 -A5 | head -60
```

Repository: AndyMik90/Auto-Claude

Length of output: 2772

---



</details>

**Fix status filter comparison in hook to match store implementation.**

The hook filters by `ticket.state.type` (line 105), but the store's filtering methods use `ticket.state.name`. This causes filtering to fail because status filter values (e.g., "In Progress", "Backlog") are compared against the predefined type values ('backlog', 'unstarted', 'started', 'completed', 'canceled'), resulting in no matches.

<details>
<summary>ğŸ› Proposed fix - align with store behavior</summary>

```diff
       // Apply status filter
       if (currentFilters.status) {
         filtered = filtered.filter(
-          (ticket) => ticket.state.type === currentFilters.status,
+          (ticket) => ticket.state.name === currentFilters.status,
         );
       }
```
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.

```suggestion
			// Apply status filter
			if (currentFilters.status) {
				filtered = filtered.filter(
					(ticket) => ticket.state.name === currentFilters.status,
				);
			}
```

</details>

<!-- suggestion_end -->

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@apps/frontend/src/renderer/components/linear/hooks/useLinearFiltering.ts`
around lines 102 - 107, The status filter in useLinearFiltering currently
compares currentFilters.status against ticket.state.type (in the
useLinearFiltering hook), but the store uses ticket.state.name; update the
filter to compare currentFilters.status to ticket.state.name so values like "In
Progress" or "Backlog" match the store's filtering. Locate the block that checks
currentFilters.status inside useLinearFiltering and replace the
ticket.state.type reference with ticket.state.name, keeping the rest of the
filter logic intact.
```

</details>

<!-- fingerprinting:phantom:medusa:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

âœ… Addressed in commits 26b4487 to e532ad1

---

## Suggested Fix

```typescript
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.
```

---

## Implementation Notes

*Status: RESOLVED*

**Resolution:** Body contains resolution marker

**Resolved At:** 2026-01-28T15:40:35.297571

