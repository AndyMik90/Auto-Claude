# Comment: ade3068cddcf4997

**Source:** sentry
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Original ID:** 2713968478
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

**Bug:** The call to `agentManager.validateLinearTicket` is missing the `project.path` argument, causing a parameter mismatch that breaks the validation process.
<sub>Severity: HIGH</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `8972186`">Suggested Fix</b></summary>

Update the calls to `agentManager.validateLinearTicket` and `agentManager.validateLinearTicketBatch` in `linear-handlers.ts` to include the missing `project.path` argument. The corrected call should be `agentManager.validateLinearTicket(projectId, project.path, ticketId, skipCache)`.
</details>

<details open>
<summary><b title="Reference ID: `8972186`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L564-L568

Potential issue: The IPC handlers for `LINEAR_VALIDATE_TICKET` and
`LINEAR_VALIDATE_BATCH` call `agentManager.validateLinearTicket` with three arguments:
`projectId`, `ticketId`, and `skipCache`. However, the method signature in
`agent-manager.ts` expects four arguments: `taskId`, `projectPath`, `ticketId`, and
`skipCache`. This mismatch causes the `ticketId` string to be passed as the
`projectPath` and the `skipCache` boolean to be passed as the `ticketId`. Consequently,
the downstream Python validation script is invoked with incorrect command-line
arguments, which will cause the validation feature to fail.
```
</details>


<sub><i>Did we get this right? :+1: / :-1: to inform future reviews.</i></sub>
<!--
<sub>Reference ID: `8972186`</sub>-->

---

## Suggested Fix

```typescript
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L564-L568

Potential issue: The IPC handlers for `LINEAR_VALIDATE_TICKET` and
`LINEAR_VALIDATE_BATCH` call `agentManager.validateLinearTicket` with three arguments:
`projectId`, `ticketId`, and `skipCache`. However, the method signature in
`agent-manager.ts` expects four arguments: `taskId`, `projectPath`, `ticketId`, and
`skipCache`. This mismatch causes the `ticketId` string to be passed as the
`projectPath` and the `skipCache` boolean to be passed as the `ticketId`. Consequently,
the downstream Python validation script is invoked with incorrect command-line
arguments, which will cause the validation feature to fail.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** agentManager.validateLinearTicket already includes project.path on line 625