# Comment: 538a6c0cf95d0a9a

**Source:** sentry
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Original ID:** 2717200766
**Created:** None
**Severity:** MEDIUM
**Status:** SKIPPED

---

## Original Content

**Bug:** The cache clearing logic in the IPC handler uses an incorrect directory path, which does not match the location where the Python agent actually creates the cache.
<sub>Severity: MEDIUM</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `9025505`">Suggested Fix</b></summary>

Update the IPC handler in `linear-handlers.ts` to construct the correct cache path. It should use the project directory as the base, similar to how the Python agent does, to locate and delete `{project_dir}/.cache/linear_validator`.
</details>

<details open>
<summary><b title="Reference ID: `9025505`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L848-L850

Potential issue: The IPC handler for clearing the Linear validation cache
(`IPC_CHANNELS.LINEAR_CLEAR_CACHE`) attempts to delete a directory at a hardcoded path
starting from the user's home directory:
`{HOME}/.auto-claude/specs/.cache/linear_validator`. However, the Python validation
agent creates its cache relative to the project directory at
`{project_dir}/.cache/linear_validator`. Because these paths do not match, the cache
clearing operation will silently fail, and the cache will never be cleared.
```
</details>


<sub><i>Did we get this right? :+1: / :-1: to inform future reviews.</i></sub>
<!--
<sub>Reference ID: `9025505`</sub>-->

---

## Suggested Fix

```typescript
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L848-L850

Potential issue: The IPC handler for clearing the Linear validation cache
(`IPC_CHANNELS.LINEAR_CLEAR_CACHE`) attempts to delete a directory at a hardcoded path
starting from the user's home directory:
`{HOME}/.auto-claude/specs/.cache/linear_validator`. However, the Python validation
agent creates its cache relative to the project directory at
`{project_dir}/.cache/linear_validator`. Because these paths do not match, the cache
clearing operation will silently fail, and the cache will never be cleared.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Already fixed or false positive