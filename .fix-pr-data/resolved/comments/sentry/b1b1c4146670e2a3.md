# Comment: b1b1c4146670e2a3

**Source:** sentry
**Type:** comment
**File:** `apps/frontend/src/renderer/stores/linear-store.ts`
**Original ID:** 2735122419
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

**Bug:** The `validateLinearTicket` function relies on `store.selectedProjectId`, which is never set. The `projectId` from `useLinearTickets` is not passed down, causing all ticket validations to fail.
<sub>Severity: HIGH</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `9310419`">Suggested Fix</b></summary>

Modify the `validateLinearTicket` and `validateLinearTicketBatch` functions to accept a `projectId` parameter. Update the `useLinearTickets` hook to pass the `projectId` it receives from its options to these functions. This avoids relying on the unset `store.selectedProjectId` value.
</details>

<details open>
<summary><b title="Reference ID: `9310419`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/renderer/stores/linear-store.ts#L389-L394

Potential issue: The validation functions `validateLinearTicket` and
`validateLinearTicketBatch` in `linear-store.ts` will always fail because they rely on
`store.selectedProjectId`, which is never set in the validation context. The
`useLinearTickets` hook possesses the necessary `projectId` but does not pass it to
these validation functions. Compounding the issue, the function signatures for
`validateLinearTicket` and `validateLinearTicketBatch` do not accept a `projectId`
parameter. Consequently, any attempt to validate a ticket will fail with a "No project
selected" error, making the feature non-functional.
```
</details>

<!--
<sub>Reference ID: `9310419`</sub>-->

---

## Suggested Fix

```typescript
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/renderer/stores/linear-store.ts#L389-L394

Potential issue: The validation functions `validateLinearTicket` and
`validateLinearTicketBatch` in `linear-store.ts` will always fail because they rely on
`store.selectedProjectId`, which is never set in the validation context. The
`useLinearTickets` hook possesses the necessary `projectId` but does not pass it to
these validation functions. Compounding the issue, the function signatures for
`validateLinearTicket` and `validateLinearTicketBatch` do not accept a `projectId`
parameter. Consequently, any attempt to validate a ticket will fail with a "No project
selected" error, making the feature non-functional.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Already fixed or false positive