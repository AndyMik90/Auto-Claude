# Comment: d5eaa67004272dba

**Source:** sentry
**Type:** comment
**File:** `apps/backend/agents/linear_validator.py`
**Line:** 530
**Original ID:** 2736097609
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

**Bug:** The code incorrectly strips the prefix from Linear issue identifiers before querying the GraphQL API, which expects the full identifier or a UUID.
<sub>Severity: HIGH</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `9320757`">Suggested Fix</b></summary>

Remove the logic that strips the prefix from the `issue_id`. Pass the complete `issue_id` variable directly to the GraphQL query for the `issueId` parameter. The line `numeric_id = issue_id.replace("LIN-", "")` should be removed, and the original `issue_id` should be used instead.
</details>

<details open>
<summary><b title="Reference ID: `9320757`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/backend/agents/linear_validator.py#L481-L530

Potential issue: In `linear_validator.py`, the code strips the team prefix from Linear
issue identifiers (e.g., "LIN-123" becomes "123") before sending a request to the Linear
GraphQL API. According to Linear's API documentation, the `issue(id:)` field expects
either the full identifier string (e.g., "LIN-123") or a UUID, not just the numeric
portion. This incorrect formatting will cause the API call to fail for all ticket
validation requests, likely resulting in a GraphQL error and preventing users from
validating any Linear tickets.
```
</details>

<!--
<sub>Reference ID: `9320757`</sub>-->

---

## Suggested Fix

```python
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/backend/agents/linear_validator.py#L481-L530

Potential issue: In `linear_validator.py`, the code strips the team prefix from Linear
issue identifiers (e.g., "LIN-123" becomes "123") before sending a request to the Linear
GraphQL API. According to Linear's API documentation, the `issue(id:)` field expects
either the full identifier string (e.g., "LIN-123") or a UUID, not just the numeric
portion. This incorrect formatting will cause the API call to fail for all ticket
validation requests, likely resulting in a GraphQL error and preventing users from
validating any Linear tickets.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Already fixed or false positive