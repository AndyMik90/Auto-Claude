# Comment: 0107e36cd807db9e

**Source:** sentry
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Original ID:** 2735235552
**Created:** None
**Severity:** MEDIUM
**Status:** SKIPPED

---

## Original Content

**Bug:** The `LINEAR_CLEAR_CACHE` handler uses a hardcoded, incorrect path to clear the cache, causing the feature to fail silently. The path is also not cross-platform compatible.
<sub>Severity: MEDIUM</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `9311513`">Suggested Fix</b></summary>

The frontend IPC handler should not use a hardcoded path. It should either receive the correct cache path from the backend or be able to dynamically determine the project-specific cache directory, similar to how the backend does. To ensure cross-platform compatibility, replace `process.env.HOME` with a method like `os.homedir()` from Node's `os` module if a home directory path is truly needed.
</details>

<details open>
<summary><b title="Reference ID: `9311513`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L853-L859

Potential issue: The IPC handler for `LINEAR_CLEAR_CACHE` constructs a cache directory
path using `path.join(process.env.HOME || ".", ".auto-claude", "specs", ".cache",
"linear_validator")`. This path is incorrect because the backend, in
`linear_validator.py`, creates the cache at `<project_dir>/.cache/linear_validator`.
Because these paths do not match, the "Clear Cache" feature will fail silently, leaving
stale data intact while the user believes it has been cleared. Additionally, the use of
`process.env.HOME` is not cross-platform compatible and will not work correctly on
Windows.
```
</details>

<!--
<sub>Reference ID: `9311513`</sub>-->

---

## Suggested Fix

```typescript
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/main/ipc-handlers/linear-handlers.ts#L853-L859

Potential issue: The IPC handler for `LINEAR_CLEAR_CACHE` constructs a cache directory
path using `path.join(process.env.HOME || ".", ".auto-claude", "specs", ".cache",
"linear_validator")`. This path is incorrect because the backend, in
`linear_validator.py`, creates the cache at `<project_dir>/.cache/linear_validator`.
Because these paths do not match, the "Clear Cache" feature will fail silently, leaving
stale data intact while the user believes it has been cleared. Additionally, the use of
`process.env.HOME` is not cross-platform compatible and will not work correctly on
Windows.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** Already fixed or false positive