# Comment: a878e777fcf1f5b9

**Source:** sentry
**Type:** comment
**File:** `apps/backend/agents/linear_validator.py`
**Original ID:** 2713861149
**Created:** None
**Severity:** HIGH
**Status:** SKIPPED

---

## Original Content

**Bug:** The custom `TimeoutError` exception is instantiated with a single string argument, but its constructor expects two arguments (`issue_id`, `timeout_seconds`), causing a `TypeError` on timeout.
<sub>Severity: HIGH</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `8970190`">Suggested Fix</b></summary>

Update the `raise TimeoutError(...)` call at line 510 to match the class constructor's signature. Pass the `issue_id` and `self.session_timeout` variables as separate arguments, like so: `raise TimeoutError(issue_id, self.session_timeout)`. This will correctly initialize the custom exception and allow for graceful timeout handling.
</details>

<details open>
<summary><b title="Reference ID: `8970190`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/backend/agents/linear_validator.py#L509-L511

Potential issue: When an `asyncio.TimeoutError` occurs in the `validate_ticket` method,
the code attempts to raise a custom `TimeoutError` exception. However, the instantiation
at line 510 is incorrect. It passes a single formatted string argument, but the custom
`TimeoutError` class constructor at line 178 requires two positional arguments:
`issue_id: str` and `timeout_seconds: float`. This mismatch will cause a `TypeError` at
runtime whenever a validation session times out, crashing the validation flow instead of
handling the timeout gracefully as intended.
```
</details>


<sub><i>Did we get this right? :+1: / :-1: to inform future reviews.</i></sub>
<!--
<sub>Reference ID: `8970190`</sub>-->

---

## Suggested Fix

```python
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/backend/agents/linear_validator.py#L509-L511

Potential issue: When an `asyncio.TimeoutError` occurs in the `validate_ticket` method,
the code attempts to raise a custom `TimeoutError` exception. However, the instantiation
at line 510 is incorrect. It passes a single formatted string argument, but the custom
`TimeoutError` class constructor at line 178 requires two positional arguments:
`issue_id: str` and `timeout_seconds: float`. This mismatch will cause a `TypeError` at
runtime whenever a validation session times out, crashing the validation flow instead of
handling the timeout gracefully as intended.
```

---

## Implementation Notes

*Status: SKIPPED*

**Resolution:** ValidationTimeoutError is correctly instantiated with issue_id and timeout_seconds on line 642