# Review: c24f63b97ac63721

**Source:** coderabbitai
**Type:** review
**Original ID:** 3713636716
**Created:** None
**Severity:** MEDIUM
**Status:** SKIPPED

---

## Original Content

**Actionable comments posted: 7**

<details>
<summary>ü§ñ Fix all issues with AI agents</summary>

```
In `@apps/backend/agents/linear_validator.py`:
- Around line 466-524: The Authorization header is currently set to the raw
api_key which causes 401s; update the headers creation (where api_key is read
and headers dict is built for requests.post) to prefix the token with "Bearer "
(e.g., use the string "Bearer " + api_key) so the Authorization value follows
the Bearer scheme expected by Linear's GraphQL API; adjust the headers variable
used in the requests.post call accordingly.
- Around line 985-1008: The method compute_version_label currently tries to
import the module-level function using "from . import calculate_version_label",
which fails because calculate_version_label isn't exported; remove that import
and invoke the module-level calculate_version_label directly (i.e., call
calculate_version_label(current_version, work_type, priority)) so
compute_version_label simply delegates to the local function without importing.

In
`@apps/frontend/src/renderer/components/linear/components/LinearTicketDetail.tsx`:
- Line 28: The component LinearTicketDetail mixes i18n key notations (dot vs
colon) and even references the wrong namespace for a key; standardize all
translation keys to colon notation using the existing
useTranslation(["common","linear"]) call (e.g., change "linear.key" and
"common:linear.validationResults" to "linear:key" and "linear:validationResults"
respectively) by updating every t(...) invocation inside LinearTicketDetail
(search for uses of t( and strings like "linear.", "linear:", and
"common:linear.") so all keys use the "linear:..." namespace consistently.

In `@apps/frontend/src/renderer/components/linear/LinearDashboard.tsx`:
- Around line 227-230: The arrow callback passed to filteredTickets.findIndex
currently uses parameter name "t", which shadows the translation function t used
elsewhere (translation function t) and can cause confusion; rename the callback
parameter to a descriptive name like "ticket" or "item" in the findIndex call
(where selectedTicketId and filteredTickets are used) so the function signature
becomes filteredTickets.findIndex((ticket) => ticket.id === selectedTicketId) to
avoid shadowing.
- Line 91: The component's i18n hook call useTranslation currently passes a
single namespace string which prevents the "linear:" colon-prefixed keys from
resolving; update the call in the LinearDashboard component to request both
namespaces (include "linear" alongside "common") so the colon notation (e.g.,
"linear:...") works across the component and ensure any downstream uses of the
returned t function reference the combined namespaces.

In `@apps/frontend/src/renderer/components/Sidebar.tsx`:
- Around line 126-175: The IPC response for getProjectEnv can arrive after the
user switches projects and overwrite envConfig; in the useEffect that defines
loadEnvConfig (which calls window.electronAPI.getProjectEnv and calls
setEnvConfig), add a cancellation guard (e.g., an isMounted/isCancelled flag or
abort token) so you only call setEnvConfig when the response corresponds to the
current effect invocation; ensure you clear the flag in the cleanup to avoid
stale updates. Also replace the hardcoded "Auto Claude" string with an i18n key
(e.g., use t('common:appName') via your translation hook) and add "appName":
"Auto Claude" to en/common.json and fr/common.json so the UI uses the translated
app name.

In `@apps/frontend/src/shared/i18n/locales/fr/common.json`:
- Line 90: Update the French translation value for the "creating" key to include
the missing accent: change the string value from "Creation..." to "Cr√©ation..."
so it matches the correct wording used elsewhere (e.g., the existing
"Cr√©ation..." on line 415) and keeps translations consistent.
```

</details>

<!-- This is an auto-generated comment by CodeRabbit for review status -->

---

## Implementation Notes

*Status: SKIPPED*

**Reason:** Review state: COMMENTED

