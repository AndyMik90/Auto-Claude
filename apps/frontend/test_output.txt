
> auto-claude-ui@2.7.2 test
> vitest run src/renderer/components/onboarding/OnboardingWizard.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/test/Auto-Claude/apps/frontend[39m

 [31mΓ¥»[39m src/renderer/components/onboarding/OnboardingWizard.test.tsx [2m([22m[2m16 tests[22m[2m | [22m[31m1 failed[39m[2m | [22m[33m5 skipped[39m[2m)[22m[33m 552[2mms[22m[39m
[31m       [31m├ù[31m should navigate: welcome ΓåÆ auth-choice ΓåÆ oauth[39m[32m 189[2mms[22m[39m
       [2m[90mΓåô[39m[22m should show correct progress indicator for OAuth path
       [2m[90mΓåô[39m[22m should skip oauth step when API key path chosen
       [32mΓ£ô[39m should not show OAuth step text on auth-choice screen[32m 43[2mms[22m[39m
       [32mΓ£ô[39m should go back to auth-choice (not oauth) when coming from API key path[32m 49[2mms[22m[39m
       [32mΓ£ô[39m should show wizard for users with no auth configured[32m 29[2mms[22m[39m
       [32mΓ£ô[39m should not show wizard for users with existing OAuth[32m 32[2mms[22m[39m
       [32mΓ£ô[39m should not show wizard for users with existing API profiles[32m 2[2mms[22m[39m
       [32mΓ£ô[39m should complete wizard when skip is clicked[32m 39[2mms[22m[39m
       [32mΓ£ô[39m should call onOpenChange when wizard is closed[32m 34[2mms[22m[39m
       [2m[90mΓåô[39m[22m should display progress indicator for non-welcome/completion steps
       [2m[90mΓåô[39m[22m should show correct number of steps (5 total)
       [32mΓ£ô[39m AC1: First-run screen displays with two auth options[32m 49[2mms[22m[39m
       [2m[90mΓåô[39m[22m AC2: OAuth path initiates existing OAuth flow
       [32mΓ£ô[39m AC3: API Key path opens profile management dialog[32m 80[2mms[22m[39m
       [32mΓ£ô[39m AC4: Existing auth skips wizard[32m 2[2mms[22m[39m
node.exe : 
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[39m[1m[41m Failed Tests 1 
[49m[22m[31mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[39m

[41m[1m FAIL [22m[49m 
src/renderer/components/onboarding/OnboardingWizard.test.tsx[2m > [22mOnboardingWizard 
Integration Tests[2m > [22mOAuth Path Navigation[2m > [22mshould navigate: welcome 
ΓåÆ auth-choice ΓåÆ oauth
[31m[1mTypeError[22m: window.electronAPI.onTerminalAuthCreated is not a function[39m
[36m [2mΓ¥»[22m src/renderer/hooks/useClaudeLoginTerminal.ts:[2m16:44[22m[39m
    [90m 14| [39m
    [90m 15| [39m  [34museEffect[39m(() [33m=>[39m {
    [90m 16| [39m    const unsubscribe = 
window.electronAPI.onTerminalAuthCreated((infoΓÇª
    [90m   | [39m                                           [31m^[39m
    [90m 17| [39m      [90m// Add the terminal to the store so it becomes visible in 
the UI[39m
    [90m 18| [39m      // This allows users to see the 'claude setup-token' output and 
ΓÇª
[90m [2mΓ¥»[22m Object.react_stack_bottom_frame 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m25989:20[22m[39m
[90m [2mΓ¥»[22m runWithFiberInDEV 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m874:13[22m[39m
[90m [2mΓ¥»[22m commitHookEffectListMount 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m13249:29[22m[39m
[90m [2mΓ¥»[22m commitHookPassiveMountEffects 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m13336:11[22m[39m
[90m [2mΓ¥»[22m commitPassiveMountOnFiber 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m15484:13[22m[39m
[90m [2mΓ¥»[22m recursivelyTraversePassiveMountEffects 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m15439:11[22m[39m
[90m [2mΓ¥»[22m commitPassiveMountOnFiber 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m15718:11[22m[39m
[90m [2mΓ¥»[22m recursivelyTraversePassiveMountEffects 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m15439:11[22m[39m
[90m [2mΓ¥»[22m commitPassiveMountOnFiber 
../../node_modules/react-dom/cjs/react-dom-client.development.js:[2m15718:11[22m[39m

[31m[2mΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»ΓÄ»[1/1]ΓÄ»
[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[2m | [22m[33m5 skipped[39m[90m (16)[39m
[2m   Start at [22m 09:00:52
[2m   Duration [22m 2.56s[2m (transform 355ms, setup 31ms, import 828ms, tests 552ms, environment 979ms)[22m

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path C:\test\Auto-Claude\apps\frontend
npm error workspace auto-claude-ui@2.7.2
npm error location C:\test\Auto-Claude\apps\frontend
npm error command failed
npm error command C:\WINDOWS\system32\cmd.exe /d /s /c vitest run 
src/renderer/components/onboarding/OnboardingWizard.test.tsx
