# Comment: 8410a153c9d4fcac

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Line:** 836
**Original ID:** 2736538750
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ  Major_

<details>
<summary>ğŸ§© Analysis chain</summary>

ğŸ Script executed:

```shell
rg -n "LINEAR_CLEAR_CACHE|clearLinearCache|clearValidationResults" -C3 --type=ts --type=tsx
```

Repository: AndyMik90/Auto-Claude

Length of output: 92

---

ğŸ Script executed:

```shell
rg -n "LINEAR_CLEAR_CACHE|clearLinearCache|clearValidationResults" -C3
```

Repository: AndyMik90/Auto-Claude

Length of output: 12977

---

ğŸ Script executed:

```shell
cat -n apps/frontend/src/renderer/components/linear/LinearDashboard.tsx | sed -n '170,195p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 909

---

ğŸ Script executed:

```shell
rg -n "linear_validator|\.cache/linear|clearCache|invalidat" --type=ts --type=js | grep -i linear | head -30
```

Repository: AndyMik90/Auto-Claude

Length of output: 764

---

ğŸ Script executed:

```shell
find . -type f -name "*.py" | xargs grep -l "linear_validator\|LinearValidator" | head -5
```

Repository: AndyMik90/Auto-Claude

Length of output: 157

---

ğŸ Script executed:

```shell
cat -n apps/backend/agents/linear_validator.py | head -100
```

Repository: AndyMik90/Auto-Claude

Length of output: 3474

---

ğŸ Script executed:

```shell
grep -n "diskcache\|\.cache\|clear" apps/backend/agents/linear_validator.py | head -30
```

Repository: AndyMik90/Auto-Claude

Length of output: 698

---

ğŸ Script executed:

```shell
grep -n "def.*clear\|self.cache.clear" apps/backend/agents/linear_validator.py
```

Repository: AndyMik90/Auto-Claude

Length of output: 47

---

ğŸ Script executed:

```shell
grep -n "CACHE_TTL\|expire=" apps/backend/agents/linear_validator.py
```

Repository: AndyMik90/Auto-Claude

Length of output: 290

---

ğŸ Script executed:

```shell
grep -n "def.*validate\|cache.clear" apps/backend/agents/linear_validator.py | head -20
```

Repository: AndyMik90/Auto-Claude

Length of output: 282

---

ğŸ Script executed:

```shell
cat -n apps/backend/agents/linear_validator.py | sed -n '312,450p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 5986

---

ğŸ Script executed:

```shell
grep -rn "cache.clear\|cache_dir.*remove\|shutil.rmtree.*cache" apps/backend --include="*.py"
```

Repository: AndyMik90/Auto-Claude

Length of output: 279

---

ğŸ Script executed:

```shell
cat -n apps/backend/agents/linear_validator.py | sed -n '1,50p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 1707

---

ğŸ Script executed:

```shell
wc -l apps/backend/agents/linear_validator.py
```

Repository: AndyMik90/Auto-Claude

Length of output: 109

---

ğŸ Script executed:

```shell
cat -n apps/backend/agents/linear_validator.py | sed -n '280,320p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 1980

---

ğŸ Script executed:

```shell
grep -n "class LinearValidationAgent\|def " apps/backend/agents/linear_validator.py | grep -A 15 "class LinearValidationAgent"
```

Repository: AndyMik90/Auto-Claude

Length of output: 801

---



</details>

**Implement cache clearing in IPC handler instead of no-op.**

Users receive a success message after clicking "Clear cache," but the disk cache is not actually clearedâ€”it persists for 1 hour based on TTL expiry. The IPC handler returns success without clearing the cache directory or invoking `cache.clear()` on the backend `diskcache.Cache` instance. The comment about "timestamp-based invalidation" is inaccurate; the cache uses TTL-based expiry (3600 seconds). Either implement actual cache clearing in the handler or adjust the UI to reflect that cache clears automatically after 1 hour.

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@apps/frontend/src/main/ipc-handlers/linear-handlers.ts` around lines 846 -
858, The IPC handler registered for IPC_CHANNELS.LINEAR_CLEAR_CACHE is a no-op;
update the handler (the async function passed to ipcMain.handle) to actually
clear the backend disk cache by invoking the diskcache.Cache instance's clear
method (e.g., call cache.clear() on the linear validator cache) or delete the
per-project cache directory (the <spec_dir>/.cache/linear_validator)
asynchronously, catch and log errors, and return { success: true } only if the
clear succeeded (otherwise return a failed IPCResult). Ensure you reference the
same cache instance used elsewhere (the diskcache.Cache for the linear
validator) and keep the frontend clearValidationResults() behavior intact.
```

</details>

<!-- fingerprinting:phantom:poseidon:eagle -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

