# Comment: 36a6560e9331bb95

**Source:** coderabbitai
**Type:** comment
**File:** `apps/backend/agents/linear_validator.py`
**Line:** 367
**Original ID:** 2733875048
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

_üõ†Ô∏è Refactor suggestion_ | _üü† Major_

**Thinking tokens should use phase config helper.**

The `max_thinking_tokens=10000` is hardcoded. Per coding guidelines, this should use `get_phase_thinking_budget()` from `phase_config.py`.


<details>
<summary>‚ôªÔ∏è Suggested refactor</summary>

```diff
         if self._client is None:
             self._client = create_client(
                 self.project_dir,
                 self.spec_dir,
                 self.model,
                 agent_type="linear_validator",
-                max_thinking_tokens=10000,  # High thinking for complex analysis
+                max_thinking_tokens=self._thinking_budget,
             )
```
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>

```
In `@apps/backend/agents/linear_validator.py` around lines 356 - 364, Replace the
hardcoded max_thinking_tokens=10000 in the client creation inside the
LinearValidator's client getter with the phase config helper: call
get_phase_thinking_budget() from phase_config and pass its return value as
max_thinking_tokens to create_client; update the import if needed and reference
the _client initialization code and create_client call within the
LinearValidator class so tests use the configured phase budget instead of the
literal.
```

</details>

<!-- fingerprinting:phantom:medusa:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

