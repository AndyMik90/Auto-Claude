# Comment: 108734144c62053c

**Source:** coderabbitai
**Type:** comment
**File:** `package.json`
**Line:** 50
**Original ID:** 2735948349
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ  Major_

<details>
<summary>ğŸ§© Analysis chain</summary>

ğŸ Script executed:

```shell
# First, check the repository structure
git ls-files | head -20
```

Repository: AndyMik90/Auto-Claude

Length of output: 743

---

ğŸ Script executed:

```shell
# Check if this is a monorepo and look at the root package.json
cat -n package.json | head -80
```

Repository: AndyMik90/Auto-Claude

Length of output: 2020

---

ğŸ Script executed:

```shell
# Look for workspace definitions
cat -n package.json | tail -20
```

Repository: AndyMik90/Auto-Claude

Length of output: 511

---

ğŸ Script executed:

```shell
# Check if apps/frontend exists and its package.json
if [ -f "apps/frontend/package.json" ]; then
  echo "=== apps/frontend/package.json ===" 
  cat -n apps/frontend/package.json | head -60
else
  echo "apps/frontend/package.json does not exist"
fi
```

Repository: AndyMik90/Auto-Claude

Length of output: 2938

---

ğŸ Script executed:

```shell
# Search for imports of lucide-react in the codebase
echo "=== Searching for lucide-react imports ==="
rg "from.*['\"]lucide-react['\"]|import.*lucide-react" --type ts --type tsx --type js --type jsx -l
```

Repository: AndyMik90/Auto-Claude

Length of output: 152

---

ğŸ Script executed:

```shell
# Search for imports of rehype-sanitize in the codebase
echo "=== Searching for rehype-sanitize imports ==="
rg "from.*['\"]rehype-sanitize['\"]|import.*rehype-sanitize" --type ts --type tsx --type js --type jsx -l
```

Repository: AndyMik90/Auto-Claude

Length of output: 155

---

ğŸ Script executed:

```shell
# Get the full apps/frontend/package.json to see all dependencies
wc -l apps/frontend/package.json
```

Repository: AndyMik90/Auto-Claude

Length of output: 95

---

ğŸ Script executed:

```shell
# Read the full dependencies section
cat -n apps/frontend/package.json | sed -n '51,150p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 3985

---

ğŸ Script executed:

```shell
# Search for lucide-react imports without type restrictions
echo "=== Searching for lucide-react imports ==="
rg "lucide-react" --type-add 'tsx:*.tsx' --type-add 'jsx:*.jsx' -l 2>/dev/null || rg "lucide-react" -l
```

Repository: AndyMik90/Auto-Claude

Length of output: 17218

---

ğŸ Script executed:

```shell
# Search for rehype-sanitize imports
echo "=== Searching for rehype-sanitize imports ==="
rg "rehype-sanitize" --type-add 'tsx:*.tsx' --type-add 'jsx:*.jsx' -l 2>/dev/null || rg "rehype-sanitize" -l
```

Repository: AndyMik90/Auto-Claude

Length of output: 220

---

ğŸ Script executed:

```shell
# Check if these packages are mentioned in apps/frontend/package.json
echo "=== Checking apps/frontend/package.json for these packages ==="
grep -E "lucide-react|rehype-sanitize" apps/frontend/package.json
```

Repository: AndyMik90/Auto-Claude

Length of output: 159

---

ğŸ Script executed:

```shell
# Check if lucide-react is used in libs/
echo "=== lucide-react usage in libs/ ==="
rg "lucide-react" libs/ 2>/dev/null || echo "Not found in libs/"
```

Repository: AndyMik90/Auto-Claude

Length of output: 119

---

ğŸ Script executed:

```shell
# Check if rehype-sanitize is used in libs/
echo "=== rehype-sanitize usage in libs/ ==="
rg "rehype-sanitize" libs/ 2>/dev/null || echo "Not found in libs/"
```

Repository: AndyMik90/Auto-Claude

Length of output: 122

---

ğŸ Script executed:

```shell
# List all workspace package.json files
echo "=== Workspace package.json files ==="
find . -path "*/node_modules" -prune -o -path "*/.git" -prune -o -name "package.json" -type f -print | grep -E "(apps|libs)/.*/package.json"
```

Repository: AndyMik90/Auto-Claude

Length of output: 130

---

ğŸ Script executed:

```shell
# Check if any other apps use these packages
echo "=== Check other apps for these packages ==="
for dir in apps/*/package.json; do
  if [ -f "$dir" ]; then
    echo "=== $dir ==="
    grep -E "lucide-react|rehype-sanitize" "$dir" 2>/dev/null || echo "Not found"
  fi
done
```

Repository: AndyMik90/Auto-Claude

Length of output: 175

---

ğŸ Script executed:

```shell
# Let's verify the git diff to see exactly what changed
git diff HEAD package.json
```

Repository: AndyMik90/Auto-Claude

Length of output: 47

---

ğŸ Script executed:

```shell
# Check if rehype-sanitize is being added in apps/frontend in this PR
git diff HEAD apps/frontend/package.json | head -100
```

Repository: AndyMik90/Auto-Claude

Length of output: 47

---

ğŸ Script executed:

```shell
# Check which files were modified in this PR
git diff --name-only HEAD
```

Repository: AndyMik90/Auto-Claude

Length of output: 47

---

ğŸ Script executed:

```shell
# Check the full root package.json again to understand context
cat package.json
```

Repository: AndyMik90/Auto-Claude

Length of output: 1642

---

ğŸ Script executed:

```shell
# Check if there's a lock file showing actual dependencies resolved
wc -l package-lock.json
```

Repository: AndyMik90/Auto-Claude

Length of output: 88

---

ğŸ Script executed:

```shell
# Look for LinearTicketDetail to understand rehype-sanitize usage
cat -n apps/frontend/src/renderer/components/linear/components/LinearTicketDetail.tsx | grep -A 5 -B 5 "rehype-sanitize"
```

Repository: AndyMik90/Auto-Claude

Length of output: 484

---



</details>

**Move frontend-specific dependencies to the frontend workspace.**

`lucide-react` is already declared in `apps/frontend/package.json` (line 88), creating a duplicate at root. `rehype-sanitize` (used only in `apps/frontend/src/renderer/components/linear/components/LinearTicketDetail.tsx`) currently exists only at root. In a monorepo with workspaces, both should be declared in `apps/frontend/package.json` and removed from root to avoid duplication and clarify dependency ownership.

<details>
<summary>Suggested approach</summary>

1. Add `"rehype-sanitize": "^6.0.0"` to `apps/frontend/package.json` dependencies
2. Remove both `lucide-react` and `rehype-sanitize` from root `package.json` dependencies

</details>

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@package.json` around lines 47 - 50, Remove the frontend-only dependencies
from the root workspace and declare them in the frontend workspace: add
"rehype-sanitize": "^6.0.0" to the apps/frontend package.json dependencies
alongside the existing "lucide-react" entry, then delete both "lucide-react" and
"rehype-sanitize" from the root package.json dependencies to avoid duplication
and ensure ownership is clearly under the frontend workspace.
```

</details>

<!-- fingerprinting:phantom:poseidon:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

