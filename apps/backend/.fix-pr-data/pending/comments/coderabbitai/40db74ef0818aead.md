# Comment: 40db74ef0818aead

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/renderer/components/linear/components/TicketLinkingBadge.tsx`
**Line:** 85
**Original ID:** 2736267942
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

<details>
<summary>ğŸ§© Analysis chain</summary>

ğŸ Script executed:

```shell
cat -n apps/frontend/src/renderer/components/linear/components/TicketLinkingBadge.tsx | head -100
```

Repository: AndyMik90/Auto-Claude

Length of output: 3370

---

ğŸ Script executed:

```shell
cat -n apps/frontend/src/renderer/components/linear/components/TicketLinkingBadge.tsx | tail -20
```

Repository: AndyMik90/Auto-Claude

Length of output: 796

---

ğŸ Script executed:

```shell
find apps/frontend -type f -name "*.json" | grep -E "(en|fr)" | grep linear
```

Repository: AndyMik90/Auto-Claude

Length of output: 170

---

ğŸ Script executed:

```shell
cat apps/frontend/src/shared/i18n/locales/en/linear.json | head -50
```

Repository: AndyMik90/Auto-Claude

Length of output: 2015

---

ğŸ Script executed:

```shell
cat apps/frontend/src/shared/i18n/locales/fr/linear.json | head -50
```

Repository: AndyMik90/Auto-Claude

Length of output: 2180

---

ğŸ Script executed:

```shell
cat apps/frontend/src/shared/i18n/locales/en/linear.json | grep -E "(duplicate|related)"
```

Repository: AndyMik90/Auto-Claude

Length of output: 332

---



</details>

**Add an i18n-backed accessible label for the badge/button.**
Screen readers will only announce the numeric count; provide a localized label that includes relationship context. The `Button` and `Badge` components (lines 68â€“84) lack `aria-label` attributes, violating accessibility standards and i18n guidelines.

<details>
<summary>ğŸ”§ Proposed fix</summary>

```diff
+	const ariaLabel = t("linear:relationshipBadgeAria", {
+		ticketId,
+		total: totalLinks,
+		duplicates: relationships.duplicates,
+		related: relationships.related,
+	});
...
 					{onClick ? (
 						<Button
 							variant="outline"
 							size="sm"
 							onClick={onClick}
 							className={`h-6 px-2 gap-1 ${getBadgeStyle()}`}
+							aria-label={ariaLabel}
 						>
...
 					) : (
 						<Badge
 							variant="outline"
 							className={`h-6 px-2 gap-1 ${getBadgeStyle()}`}
+							aria-label={ariaLabel}
 						>
```

Add `linear:relationshipBadgeAria` to both `en/linear.json` and `fr/linear.json` with appropriate localized descriptions (e.g., English: `"{{ticketId}} has {{total}} linked tickets ({{duplicates}} duplicates, {{related}} related)"`).
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.

```suggestion
	const ariaLabel = t("linear:relationshipBadgeAria", {
		ticketId,
		total: totalLinks,
		duplicates: relationships.duplicates,
		related: relationships.related,
	});

	return (
		<TooltipProvider>
			<Tooltip>
				<TooltipTrigger asChild>
					{onClick ? (
						<Button
							variant="outline"
							size="sm"
							onClick={onClick}
							className={`h-6 px-2 gap-1 ${getBadgeStyle()}`}
							aria-label={ariaLabel}
						>
							{getIcon()}
							<span className="text-xs">{totalLinks}</span>
						</Button>
					) : (
						<Badge
							variant="outline"
							className={`h-6 px-2 gap-1 ${getBadgeStyle()}`}
							aria-label={ariaLabel}
						>
							{getIcon()}
							<span className="text-xs">{totalLinks}</span>
						</Badge>
					)}
```

</details>

<!-- suggestion_end -->

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In
`@apps/frontend/src/renderer/components/linear/components/TicketLinkingBadge.tsx`
around lines 63 - 85, The Button and Badge in TicketLinkingBadge.tsx are missing
an i18n-backed accessible label; add an aria-label to both the Button and Badge
using the i18n key "linear:relationshipBadgeAria" and interpolate the relevant
values (ticketId, totalLinks as total, duplicates, related) so screen readers
get context; update en/linear.json and fr/linear.json with the key (e.g.,
"{{ticketId}} has {{total}} linked tickets ({{duplicates}} duplicates,
{{related}} related)") and ensure TicketLinkingBadge uses the i18n
hook/translator to build the label and pass it into the aria-label props on the
Button and Badge (keep existing getIcon(), getBadgeStyle(), onClick, totalLinks
intact).
```

</details>

<!-- fingerprinting:phantom:medusa:eagle -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Suggested Fix

```typescript
Add `linear:relationshipBadgeAria` to both `en/linear.json` and `fr/linear.json` with appropriate localized descriptions (e.g., English: `"{{ticketId}} has {{total}} linked tickets ({{duplicates}} duplicates, {{related}} related)"`).
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.
```

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

