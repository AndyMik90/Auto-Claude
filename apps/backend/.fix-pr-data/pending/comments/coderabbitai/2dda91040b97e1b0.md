# Comment: 2dda91040b97e1b0

**Source:** coderabbitai
**Type:** comment
**File:** `apps/backend/runners/linear_resolution_runner.py`
**Line:** 105
**Original ID:** 2735948306
**Created:** None
**Severity:** MEDIUM
**Status:** PENDING

---

## Original Content

_‚ö†Ô∏è Potential issue_ | _üü° Minor_

**Ticket grouping logic may miss some tickets.**

The grouping logic has potential gaps:
- `already_fixed`: tickets with `is_already_fixed=True`
- `potentially_fixed`: tickets with `is_already_fixed=False` AND `recommended_action="investigate"`
- `still_open`: tickets with `recommended_action="keep_open"`

A ticket with `is_already_fixed=False` and `recommended_action="close"` would fall into none of these groups and be silently excluded from the output.


<details>
<summary>Proposed fix for comprehensive grouping</summary>

```diff
     # Group by status
     already_fixed = [t for t in tickets if t.get("is_already_fixed")]
-    potentially_fixed = [
-        t
-        for t in tickets
-        if not t.get("is_already_fixed")
-        and t.get("recommended_action") == "investigate"
-    ]
-    still_open = [t for t in tickets if t.get("recommended_action") == "keep_open"]
+    not_fixed = [t for t in tickets if not t.get("is_already_fixed")]
+    potentially_fixed = [t for t in not_fixed if t.get("recommended_action") == "investigate"]
+    still_open = [t for t in not_fixed if t.get("recommended_action") == "keep_open"]
+    other = [t for t in not_fixed if t.get("recommended_action") not in ("investigate", "keep_open")]
```

Then add handling for the `other` group if non-empty.
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>

```
In `@apps/backend/runners/linear_resolution_runner.py` around lines 97 - 105, The
current grouping (already_fixed, potentially_fixed, still_open) can omit tickets
(e.g., is_already_fixed==False and recommended_action=="close"); update the
grouping logic in linear_resolution_runner.py to classify tickets exhaustively:
keep already_fixed = [t for t in tickets if t.get("is_already_fixed")], create
groups for recommended_action == "investigate" (potentially_fixed), "keep_open"
(still_open), "close" (closed_by_recommendation or similar), and collect any
remaining tickets into an other (or unknown) list; then ensure downstream code
emits or handles the other/close groups when non-empty so no ticket is silently
excluded.
```

</details>

<!-- fingerprinting:phantom:poseidon:ocelot -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Suggested Fix

```python
Then add handling for the `other` group if non-empty.
</details>

<details>
<summary>ü§ñ Prompt for AI Agents</summary>
```

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

