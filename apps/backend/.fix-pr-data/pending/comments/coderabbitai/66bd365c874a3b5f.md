# Comment: 66bd365c874a3b5f

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/main/ipc-handlers/linear-handlers.ts`
**Line:** 521
**Original ID:** 2736538736
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

**Sanitize slugified titles for Windowsâ€‘reserved names.**  
Issue titles like â€œCONâ€/â€œPRNâ€ will fail directory creation on Windows. Add a fallback.

<details>
<summary>ğŸ› Suggested fix</summary>

```diff
-						const slugifiedTitle = issue.title
+						const reservedNames = new Set([
+							"con","prn","aux","nul",
+							"com1","com2","com3","com4","com5","com6","com7","com8","com9",
+							"lpt1","lpt2","lpt3","lpt4","lpt5","lpt6","lpt7","lpt8","lpt9",
+						]);
+						let slugifiedTitle = issue.title
 							.toLowerCase()
 							.replace(/[^a-z0-9]+/g, "-")
 							.replace(/^-|-$/g, "")
 							.substring(0, 50);
+						if (!slugifiedTitle || reservedNames.has(slugifiedTitle) || /[. ]$/.test(slugifiedTitle)) {
+							slugifiedTitle = issue.identifier.toLowerCase();
+						}
```
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.

```suggestion
						const reservedNames = new Set([
							"con","prn","aux","nul",
							"com1","com2","com3","com4","com5","com6","com7","com8","com9",
							"lpt1","lpt2","lpt3","lpt4","lpt5","lpt6","lpt7","lpt8","lpt9",
						]);
						let slugifiedTitle = issue.title
							.toLowerCase()
							.replace(/[^a-z0-9]+/g, "-")
							.replace(/^-|-$/g, "")
							.substring(0, 50);
						if (!slugifiedTitle || reservedNames.has(slugifiedTitle) || /[. ]$/.test(slugifiedTitle)) {
							slugifiedTitle = issue.identifier.toLowerCase();
						}
						const specId = `${String(specNumber).padStart(3, "0")}-${slugifiedTitle}`;
```

</details>

<!-- suggestion_end -->

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@apps/frontend/src/main/ipc-handlers/linear-handlers.ts` around lines 537 -
543, The slugifiedTitle generation can produce Windows-reserved names (e.g.,
CON, PRN, AUX, NUL, COM1â€“COM9, LPT1â€“LPT9) which will break directory creation;
update the block that computes slugifiedTitle and specId to detect these
reserved names (case-insensitively) after slugification and replace or fallback
to a safe name (for example prefixing with "_" or appending "-spec") when a
match is found, then use that safe value to build specId (the code using
slugifiedTitle and specId is the target). Ensure the check occurs right after
slugifiedTitle is computed so all downstream uses get the sanitized value.
```

</details>

<!-- fingerprinting:phantom:poseidon:eagle -->

<!-- This is an auto-generated comment by CodeRabbit -->

---

## Suggested Fix

```typescript
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.
```

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

