# Comment: 3722bee25a1e79c5

**Source:** sentry
**Type:** comment
**File:** `apps/frontend/src/renderer/components/linear/LinearDashboard.tsx`
**Line:** 118
**Original ID:** 2717200763
**Created:** None
**Severity:** HIGH
**Status:** PENDING

---

## Original Content

**Bug:** The `LinearDashboard` fails to set the `selectedProjectId` in the `useLinearStore`, causing all ticket validation attempts from the dashboard to fail because the project ID is `null`.
<sub>Severity: HIGH</sub>
<!-- BUG_PREDICTION -->

<details>
<summary><b title="Reference ID: `9025505`">Suggested Fix</b></summary>

In the `useLinearTickets` hook, add a `useEffect` hook that calls `useLinearStore.getState().setSelectedProjectId(projectId)` when the component mounts or the `projectId` prop changes. This will ensure the store has the correct project context for validation operations.
</details>

<details open>
<summary><b title="Reference ID: `9025505`">Prompt for AI Agent</b></summary>

```
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/renderer/components/linear/LinearDashboard.tsx#L114

Potential issue: The `LinearDashboard` component receives a `projectId` but fails to set
it in the `useLinearStore` via `setSelectedProjectId`. As a result,
`store.selectedProjectId` remains `null`. When a user attempts to validate a ticket from
the dashboard, the `validateLinearTicket` function reads this `null` value and fails
with a "No project selected" error. This prevents the Linear ticket validation feature
from working entirely within the dashboard, rendering a core feature of the pull request
non-functional.
```
</details>


<sub><i>Did we get this right? :+1: / :-1: to inform future reviews.</i></sub>
<!--
<sub>Reference ID: `9025505`</sub>-->

---

## Suggested Fix

```typescript
Review the code at the location below. A potential bug has been identified by an AI
agent.
Verify if this is a real issue. If it is, propose a fix; if not, explain why it's not
valid.

Location: apps/frontend/src/renderer/components/linear/LinearDashboard.tsx#L114

Potential issue: The `LinearDashboard` component receives a `projectId` but fails to set
it in the `useLinearStore` via `setSelectedProjectId`. As a result,
`store.selectedProjectId` remains `null`. When a user attempts to validate a ticket from
the dashboard, the `validateLinearTicket` function reads this `null` value and fails
with a "No project selected" error. This prevents the Linear ticket validation feature
from working entirely within the dashboard, rendering a core feature of the pull request
non-functional.
```

---

## Implementation Notes

*Status: PENDING - Not yet verified or implemented*

### Verification Checklist

- [ ] Read file at comment location
- [ ] Verify if issue is already fixed
- [ ] Implement fix if needed
- [ ] Re-verify after implementation

