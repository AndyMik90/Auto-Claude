# Comment: 4c509e4c92ae7326

**Source:** coderabbitai
**Type:** comment
**File:** `apps/frontend/src/renderer/components/linear/LinearDashboard.tsx`
**Line:** 286
**Original ID:** 2733875114
**Created:** None
**Severity:** HIGH
**Status:** RESOLVED

---

## Original Content

_âš ï¸ Potential issue_ | _ğŸŸ¡ Minor_

<details>
<summary>ğŸ§© Analysis chain</summary>

ğŸ Script executed:

```shell
# Check the actual code in the file
cat -n apps/frontend/src/renderer/components/linear/LinearDashboard.tsx | sed -n '275,285p'
```

Repository: AndyMik90/Auto-Claude

Length of output: 401

---

ğŸ Script executed:

```shell
# Search for other keyboard event handlers in the codebase to see how they handle case
rg "e\.key\s*===" apps/frontend --type tsx --type ts -A 2 -B 2
```

Repository: AndyMik90/Auto-Claude

Length of output: 92

---

ğŸ Script executed:

```shell
# Search for keyboard event handlers without type specification
rg "e\.key\s*===" apps/frontend -A 2 -B 2
```

Repository: AndyMik90/Auto-Claude

Length of output: 16199

---

ğŸ Script executed:

```shell
# Also search for keydown/keyup handlers to see patterns
rg "KeyboardEvent|e\.key" apps/frontend/src/renderer/components --type js --type ts -C 2 | head -100
```

Repository: AndyMik90/Auto-Claude

Length of output: 8644

---

ğŸŒ Web query:

`KeyboardEvent.key behavior with Alt modifier key lowercase uppercase comparison MDN`

ğŸ’¡ Result:

`KeyboardEvent.key` is the *actual key value produced* after applying the current keyboard **layout/locale** and the current **keyboard state** (modifier keys, shift modes, dead keys, IME, etc.). It is therefore normal for `"a"` vs `"A"` comparisons to change depending on modifiers. [1][2]

### Uppercase/lowercase behavior
- For letter keys, browsers typically report:
  - unshifted: `e.key === "b"`
  - with **Shift** held: `e.key === "B"` [1]
- The UI Events spec explicitly notes that `key` depends on the current â€œshift modesâ€, and warns you **not** to assume a reliable relationship between shifted/unshifted values and â€œuppercase vs lowercaseâ€ across all user mappings/layoutsâ€”use the `key` value you actually receive. [2]

### What about **Alt**?
- `Alt` being held is exposed via `e.altKey` (boolean). [3]
- Whether `Alt` changes `e.key` depends on the platform/layout:
  - On many layouts, plain `Alt` doesnâ€™t change the character, so you still get `"b"`/`"B"` depending on Shift.
  - On layouts where `AltGraph` (or `Alt`+`Ctrl`) is used to produce alternate characters, the produced character (and thus `e.key`) can be different. (In general, `key` is state/layout dependent.) [2][4]

### Practical guidance for comparisons
- If you want case-insensitive matching for letters: compare `e.key.toLowerCase()` to your target (but remember `e.key` may be non-letter or multi-character for some inputs/layouts). [1][2]
- If you want to detect the *physical key regardless of layout/modifiers*, use `e.code` (e.g., `"KeyB"`). [2]

**Sources:** MDN `KeyboardEvent.key` [1], W3C UI Events spec on `key` depending on keyboard state / shift modes and case-mapping caveats [2], MDN `altKey` [3], MDN `getModifierState()` (modifier detection, incl. Alt/AltGraph) [4].  

[1] https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key  
[2] https://www.w3.org/TR/uievents/  
[3] https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/altKey  
[4] https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState

---



</details>

**Fix Ctrl/Cmd+Alt+F shortcut casing.**

Line 278 compares `e.key === "F"`, but `KeyboardEvent.key` returns lowercase letters by default without Shift modifier. The Ctrl+Alt+F shortcut won't fire. Use lowercase `"f"` or `.toLowerCase()` for case-insensitive comparison to match the pattern used elsewhere in the codebase.

<details>
<summary>ğŸ”§ Proposed fix</summary>

```diff
- if ((e.ctrlKey || e.metaKey) && e.altKey && e.key === "F") {
+ if ((e.ctrlKey || e.metaKey) && e.altKey && e.key.toLowerCase() === "f") {
```
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.

```suggestion
			// Ctrl/Cmd + Alt + F: Clear filters (changed from Shift+F to avoid editor conflicts)
			if ((e.ctrlKey || e.metaKey) && e.altKey && e.key.toLowerCase() === "f") {
				e.preventDefault();
				if (hasActiveFilters) {
					clearFilters();
				}
				return;
```

</details>

<!-- suggestion_end -->

<details>
<summary>ğŸ¤– Prompt for AI Agents</summary>

```
In `@apps/frontend/src/renderer/components/linear/LinearDashboard.tsx` around
lines 277 - 283, The keyboard shortcut check in LinearDashboard's key handler
compares e.key === "F" which misses lowercase events; update the condition used
around the Ctrl/Cmd + Alt + F branch (the if that checks (e.ctrlKey ||
e.metaKey) && e.altKey && e.key === "F") to perform a case-insensitive
comparison (e.g. compare e.key.toLowerCase() === "f" or use "f" literal) so the
hasActiveFilters check and clearFilters() call fire reliably.
```

</details>

<!-- fingerprinting:phantom:medusa:eagle -->

<!-- This is an auto-generated comment by CodeRabbit -->

âœ… Addressed in commits 27e8c58 to 7702041

---

## Suggested Fix

```typescript
</details>

<!-- suggestion_start -->

<details>
<summary>ğŸ“ Committable suggestion</summary>

> â€¼ï¸ **IMPORTANT**
> Carefully review the code before committing. Ensure that it accurately replaces the highlighted code, contains no missing lines, and has no issues with indentation. Thoroughly test & benchmark the code to ensure it meets the requirements.
```

---

## Implementation Notes

*Status: RESOLVED*

**Resolution:** Body contains resolution marker

**Resolved At:** 2026-01-28T18:34:49.240308

