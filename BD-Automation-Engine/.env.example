# BD Automation Engine Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# API KEYS
# ===========================================

# Anthropic Claude API (for AI operations)
ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenAI API (for embeddings - text-embedding-ada-002)
OPENAI_API_KEY=your-openai-api-key

# Apify (for web scraping - ClearanceJobs, LinkedIn, competitor sites)
APIFY_API_TOKEN=your-apify-api-token

# Mapify/XMind API (for AI-powered mind map generation)
# Get your API key at https://mapify.so/app#show-settings
MAPIFY_API_KEY=your-mapify-api-key

# ===========================================
# NOTION INTEGRATION (PTS BD Intelligence System)
# ===========================================

# Notion API Token (from developers.notion.com)
NOTION_TOKEN=secret_your-notion-integration-token

# Notion MCP Server Headers (for @notionhq/notion-mcp-server)
# Replace YOUR_NOTION_TOKEN with your actual token
OPENAPI_MCP_HEADERS={"Authorization": "Bearer YOUR_NOTION_TOKEN", "Notion-Version": "2022-06-28"}

# Notion Workspace ID
NOTION_WORKSPACE_ID=your-workspace-id

# ===========================================
# NOTION DATABASE IDs (Collection IDs)
# These are the actual PTS BD database IDs
# ===========================================

# Primary Contact Databases
NOTION_DB_DCGS_CONTACTS=2ccdef65-baa5-8087-a53b-000ba596128e
NOTION_DB_GDIT_OTHER_CONTACTS=70ea1c94-211d-40e6-a994-e8d7c4807434

# Job & Opportunity Tracking
NOTION_DB_GDIT_JOBS=2563119e7914442cbe0fb86904a957a1
NOTION_DB_PROGRAM_MAPPING_HUB=f57792c1-605b-424c-8830-23ab41c47137
NOTION_DB_BD_OPPORTUNITIES=2bcdef65-baa5-80ed-bd95-000b2f898e17

# Reference Databases
NOTION_DB_FEDERAL_PROGRAMS=06cd9b22-5d6b-4d37-b0d3-ba99da4971fa
NOTION_DB_CONTRACTORS=3a259041-22bf-4262-a94a-7d33467a1752
NOTION_DB_CONTRACT_VEHICLES=0f09543e-9932-44f2-b0ab-7b4c070afb81

# ===========================================
# N8N ORCHESTRATION
# ===========================================

# n8n Webhook URLs
N8N_WEBHOOK_URL=https://your-n8n-instance/webhook/job-data-intake
N8N_ENRICHMENT_WEBHOOK=https://your-n8n-instance/webhook/enrich-job
N8N_SCORING_WEBHOOK=https://your-n8n-instance/webhook/score-job

# n8n API (for programmatic workflow management)
N8N_API_KEY=your-n8n-api-key
N8N_API_URL=https://your-n8n-instance/api/v1

# ===========================================
# APIFY SCRAPER CONFIGURATION
# ===========================================

# ClearanceJobs Scraper
APIFY_ACTOR_CLEARANCEJOBS=your-clearancejobs-actor-id

# LinkedIn Job Scraper
APIFY_ACTOR_LINKEDIN=your-linkedin-actor-id

# Competitor Site Scrapers (Apex, Insight Global, TEKsystems)
APIFY_ACTOR_COMPETITOR=your-competitor-actor-id

# Scraper Settings
SCRAPER_MAX_RESULTS=100
SCRAPER_SCHEDULE_CRON=0 6 * * *

# ===========================================
# OPTIONAL INTEGRATIONS
# ===========================================

# Bullhorn CRM (for contact management)
BULLHORN_API_URL=https://rest.bullhornstaffing.com
BULLHORN_CLIENT_ID=your-bullhorn-client-id
BULLHORN_CLIENT_SECRET=your-bullhorn-client-secret

# LinkedIn (if using direct API)
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# ===========================================
# EMAIL NOTIFICATIONS
# ===========================================

# SMTP Settings for sending BD briefings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
NOTIFICATION_EMAIL=bd-team@company.com

# ===========================================
# VECTOR DATABASE (for semantic matching)
# ===========================================

# Option 1: PostgreSQL with pgvector
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=bd_automation
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-password

# Option 2: Qdrant (cloud or self-hosted)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key

# ===========================================
# PROCESSING SETTINGS
# ===========================================

# Batch processing
BATCH_SIZE=10
PROCESS_INTERVAL_MINUTES=15

# Confidence thresholds (from program-mapping-skill)
HIGH_CONFIDENCE_THRESHOLD=0.70
MEDIUM_CONFIDENCE_THRESHOLD=0.50
LOW_CONFIDENCE_THRESHOLD=0.30

# Match type assignments
CONFIDENCE_DIRECT=0.70
CONFIDENCE_FUZZY_MIN=0.50
CONFIDENCE_FUZZY_MAX=0.69
CONFIDENCE_INFERRED_MAX=0.49

# ===========================================
# BD SCORING WEIGHTS
# ===========================================

# Base BD Priority Score
BD_SCORE_BASE=50

# Clearance boosts
BD_SCORE_TS_SCI_POLY=35
BD_SCORE_TS_SCI=25
BD_SCORE_TOP_SECRET=15
BD_SCORE_SECRET=5

# Program relevance boosts
BD_SCORE_DCGS_KEYWORD=20
BD_SCORE_PACAF_LOCATION=10

# Priority tiers
BD_TIER_HOT_MIN=80
BD_TIER_WARM_MIN=50

# ===========================================
# QA SETTINGS
# ===========================================

# Checkpoint settings
QA_CHECKPOINT_AFTER=10
AUTO_QA_ENABLED=true

# Review thresholds
QA_FLAG_FOR_REVIEW_BELOW=0.50
QA_AUTO_APPROVE_ABOVE=0.70

# ===========================================
# LOGGING
# ===========================================

LOG_LEVEL=INFO
LOG_FILE=outputs/Logs/bd_automation.log
